<div ng-controller="MaterialController as mc">
<div ng-include="'views/partials/nav.html'"></div>
<div class="container">

    <h1 id="welcome" class="lead">Welcome, {{uc.userObject.userName}}!</h1>
    <button class="btn btn-default" ng-click="uc.userService.logout()">Log Out</button>
</div>



<div class="containter"  ng-controller="BusinessController as bc" >
    <!-- <div ng-controller="MaterialController as mc"> ng-click="mc.showPrompt($event) -->
    <button class="md=primary md-raised" id="addBizButton" ng-click="bc.openForm()">Add Business</button> 
<!-- </div> -->







<div id="bizList">

    <div ng-repeat="business in bc.businessData.list">
      <p> {{business.name}} <br> 
          {{ business.street }} <br> 
          {{business.city}}, {{business.state}} {{business.zip}} <br>
          <a href="{{business.website}}">{{business.website}}</a> <br> 
          <button>Details</button> <br>
          {{business.description}} <br> 
          Zero-Waste Offerings:<br>
        <span ng-repeat="offering in business.offerings">
          {{offering}}<br>   
        </span>
       </p>
       <button ng-if="uc.userObject.userName==business.user" ng-click="bc.deleteBusiness(business._id)">Delete</button>
       <button ng-if="uc.userObject.userName==business.user">Update</button>
    </div>
</div>
   








    <div ng-show="bc.form">
            <h1 class="lead alert alert-danger" role="alert" ng-if="lc.message != ''">{{bc.message}}</h2>
    <form ng-submit="bc.addBusiness()">
            <div>
                <label for="name">Name:</label>
                <input type="text" ng-model="bc.newBusiness.name" />
            </div>
            <div>
                <label for="street">Street:</label>
                <input type="text" ng-model="bc.newBusiness.street" />
            </div>
            <div>
                <label for="city">City:</label>
                <input type="text" ng-model="bc.newBusiness.city" />
            </div>
            <div>
                <label for="state">State:</label>
                <input type="text" ng-model="bc.newBusiness.state" />
            </div>
            <div>
                <label for="state">Zip:</label>
                <input type="text" ng-model="bc.newBusiness.zip" />
            </div>
            <div>
                    <label for="website">Website:</label>
                    <input type="text" ng-model="bc.newBusiness.website" />
            </div>
            <div>
                    <label for="state">Description:</label>
                    <input type="text" ng-model="bc.newBusiness.description" />
            </div>


            <input class="btn btn-default" type="submit" name="submit" value="Submit" />
            <a href="#registeredHome" ng-click="bc.openForm()">Cancel</a>
          </form>
        </div>
    
    <!-- attempt at another type of popup form - failed 
    
    <div ng-cloak  ng-controller="MaterialController as mc" ng-cloak="">
              
                  <md-content class="md-padding">
                    <h1 class="md-display-2">Here is an Add button</h1>
                    <md-button ng-click="mc.openDialog($event)" class="md-raised">Add Business</md-button>
      
                    <div  layout="column" layout-align="center" >
                            ng-repeat="quest in questList.allsQ" id="prova"
                        <md-card >
                        <md-card-title>
                          <md-card-title-text layout="row">
                            <span flex layout ="column"><b>Name</b></span>
                            <span flex layout ="column"><b>Street</b></span>
                            <span flex layout ="column"><b>City</b></span>
                            <span flex layout ="column"><b>State</b></span>
                            <span flex layout ="column"><b>Zipp</b></span>
                            <md-button ng-click="questList.modifica()">Modifica</md-button>
                            <md-button ng-click="questList.rimuovi()">Elimina</md-button>
                          </md-card-title-text>
                        </md-card-title>
                        
                      </md-card>
                    </div>
      
                  </md-content> -->
               
    
    
    
    
    
    
    </div>
</div>

